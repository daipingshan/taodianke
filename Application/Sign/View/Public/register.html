<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>管理后台</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="__CSS_PATH__/layui.css"  media="all">
    <script src="__JS_PATH__/jquery-2.1.4.js"></script>
    <script src="__JS_PATH__/layui.js"></script>
</head>
<body>
<div style="margin: 0 auto;max-width: 480px">
<div style="margin: 30px auto;width: 300px">
    <img src="__JS_PATH__/logo.png" width="300">
    <h2 style="width:150px;margin: 0 auto">已有账号,<a href="{:U('login')}" style="color: #009688">立即登陆</a></h2>
</div>
<div style="margin: 20px 50px 0 0;">
    <form class="layui-form" action="{:U('doRegister')}" method="post">

        <div class="layui-form-item">
            <label class="layui-form-label">用户名</label>
            <div class="layui-input-block">
                <input type="text" name="username"  placeholder="请输入用户名" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">验证码图片</label>
            <div class="layui-input-inline">
            <img src="{:U('verify')}" height="38" onclick="this.src='{:U(\'verify\')}'" />
            </div>
        </div> 
        <div class="layui-form-item">
            <label class="layui-form-label">验证码</label>
            <div class="layui-input-inline">
              <input type="text" name="code" placeholder="请输入验证码" autocomplete="off" class="layui-input">
            </div>
        </div>
           
        <div class="layui-form-item">
            <label class="layui-form-label">密码</label>
            <div class="layui-input-block">
                <input type="password" name="password" placeholder="请输入密码" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">确认密码</label>
            <div class="layui-input-block">
                <input type="password" name="pwd" placeholder="请输入确认密码" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item" style="margin-top: 50px">
            <div class="layui-input-block">
                <button class="layui-btn" lay-submit lay-filter="formDemo">注册</button>
            </div>
        </div>
    </form>
</div>
</div>

<script>
    //Demo
    var error = "{$error}";
    layui.use(['layer','form'], function() {
        var  layer = layui.layer,
                form = layui.form();
                if(error){
                    layer.msg(error);
                }
    });

    $('button').click(function(){
        var name = $('input[name=username]').val();
        var code = $('input[name=code]').val();
        var password = $('input[name=password]').val();
        var pwd = $('input[name=pwd]').val();
        if(!name){
            layer.msg($('input[name=username]').attr('placeholder'));
            $('input[name=username]').focus();
            return false;
        }
        if(code.length != 4){
            layer.msg('请输入4位数字验证码');
            $('input[name=code]').focus();
            return false;
        }
        if(password.length < 6 || password.length > 18){
            layer.msg('请输入6-18位密码');
            $('input[name=password]').focus();
            return false;
        }
        if(pwd != password){
            layer.msg('两次密码不一致');
            $('input[name=pwd]').focus();
            return false;
        }
    });
</script>
</body>
</html>